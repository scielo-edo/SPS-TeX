\RequirePackage{multicol}

\newcommand{\indice}[2][]{#2\index{#2|#1}}
\newcommand{\indiceBA}[3][]{#2\index{#2@#2, #3|#1}}
\newcommand{\indiceAB}[3][]{#2 #3\index{#3@#3, #2|#1}}

\newcommand{\indicex}[3][]{#2\index{#3@#2|#1}}
\newcommand{\indiceBAx}[4][]{#2\index{#4@#2, #3|#1}}
\newcommand{\indiceABx}[4][]{#2 #3\index{#4@#3, #2|#1}}

\newcommand{\indiceS}[3][]{#2\index{#2!3|#1}}


\newcommand\indexn@me{\textsc{índice geral}}

\newcommand\nn[1]{#1n}
\newcommand\ii[1]{\textit{#1}}

\renewenvironment{theindex}{%

    \renewcommand{\seename}{ver}
    
    %\renewcommand{\seealso}{ver também}

    \columnseprule0em% fio vertical entre as colunas

    \columnsep10\p@% separacao entre as colunas

    \chapter*{\indexn@me}% capitulo sem numeracao (1)

    \addcontentsline{toc}{chapter}{Índice geral}

    \hedramarkboth{índice geral}{índice geral}
 
    \begin{multicols}{2}% numero de colunas do indice

%    \indexmark{\indexn@me}% marca utilizada nos cabecos

    \thispagestyle{empty}% eliminacao de cabecos e numeracao na pagina inicial (2)

    \parindent\z@% recuo de paragrafo

    \parskip\z@\@plus0.3\p@\relax%

    \raggedright% controle de justificacao do texto

    \small% controle de tamanho da fonte (4)

    \let\item\@idxitem%


}{%

    \end{multicols}%
}

\renewcommand\@idxitem{\par\hangindent20\p@}% espaço do item

\renewcommand\subitem{\@idxitem\hspace*{10\p@}}% espaço so subitem

\renewcommand\subsubitem{\@idxitem\hspace*{30\p@}}% espaço do subsubitem

\renewcommand\indexspace{\par\vskip 8\p@\@plus2\p@\@minus1\p@\relax}
